<!DOCTYPE html>

<html>
	<head><script src="https://d3js.org/d3.v3.min.js"></script>
	<h1>yes</h1>
	<style>
		body {
            	display: flex;
            	justify-content: center;
            	align-items: center;
            	height: 100vh;
            	margin: 0;
        	}
	</style>
	</head>
	<body>
	<svg width="400" height="250">
    		<!-- X-axis -->
    		<line x1="50" y1="250" x2="400" y2="250" stroke="black" stroke-width="2" />

    		<!-- Y-axis -->
    		<line x1="50" y1="20" x2="50" y2="400" stroke="black" stroke-width="2" />

		<!-- Bar 1 -->
	 	<rect x="103" y="130" width="50" height="120" fill="blue" />

		<!-- Bar 2 -->
		<rect x="206" y="160" width="50" height="90" fill="green" />

	</svg>
	<script>

	d3.csv('shopping_behavior_updated.csv', function(error, dataset) {
  		if (error) throw error;

  	// Function to compute average purchase amount grouped by gender
  		function computeAverageByGender(data) {
    		const sums = {};
    		const counts = {};

    	// Iterate through the data to calculate sums and counts
    	data.forEach(function(d) {
      		const gender = d.Gender;
      		const purchaseAmount = parseFloat(d['Purchase Amount (USD)']);

      		sums[gender] = (sums[gender] || 0) + purchaseAmount;
      		counts[gender] = (counts[gender] || 0) + 1;
    	});

    	// Calculate averages
    	const averages = {};
    	for (const gender in sums) {
      		averages[gender] = sums[gender] / counts[gender];
    	}

    		return averages;
  	}

  		// Call the function and get the result
  		const result = computeAverageByGender(dataset);

  		// Log the result
  		console.log(result);
	});
	</script>

</html>